<script module>
// ìë°”ìŠ¤í¬ë¦½íŠ¸ ì „ìš© - lang="ts" ì‚¬ìš© ê¸ˆì§€
// lucide-svelteì—ì„œ ì•„ì´ì½˜ë“¤ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
import { Aperture, ExternalLink, Github, Link, Smile } from '@lucide/svelte'
import { defineMeta } from '@storybook/addon-svelte-csf'

import IconText from './icon-text.svelte'

// defineMetaëŠ” ì»´í¬ë„ŒíŠ¸ ë©”íƒ€ë°ì´í„°ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.
const { Story } = defineMeta({
	title: 'Miscellaneous/IconText', // Storybookì—ì„œì˜ ê²½ë¡œ ë° ì´ë¦„
	component: IconText,
	argTypes: {
		text: { control: 'text', description: 'í‘œì‹œë  í…ìŠ¤íŠ¸' },
		IconElement: { control: false, description: 'í‘œì‹œë  ì•„ì´ì½˜ ì»´í¬ë„ŒíŠ¸ (lucide-svelte)' },
		iconProps: { control: 'object', description: 'IconElementì— ì „ë‹¬ë  ì†ì„±ë“¤' },
		right: { control: 'boolean', description: 'ì•„ì´ì½˜ì„ ì˜¤ë¥¸ìª½ì— í‘œì‹œí• ì§€ ì—¬ë¶€' },
		noMargin: { control: 'boolean', description: 'ì•„ì´ì½˜ ì£¼ë³€ ë§ˆì§„ ì œê±° ì—¬ë¶€' },
		small: { control: 'boolean', description: 'ì‘ì€ í¬ê¸°ë¡œ í‘œì‹œí• ì§€ ì—¬ë¶€' },
		// ...restPropsëŠ” ìë™ìœ¼ë¡œ ì²˜ë¦¬ë˜ê±°ë‚˜ í•„ìš”ì‹œ ëª…ì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
	},
	// ëª¨ë“  ìŠ¤í† ë¦¬ì— ëŒ€í•œ ê¸°ë³¸ argsë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
	args: {
		text: 'ìƒ˜í”Œ í…ìŠ¤íŠ¸',
		IconElement: Link, // ê¸°ë³¸ ì•„ì´ì½˜
		iconProps: {},
		right: false,
		noMargin: false,
		small: false,
	},
})
</script>

<!-- ì¼ê´€ì„±ì„ ìœ„í•œ ê³µìœ  ìŠ¤ë‹ˆí« -->
{#snippet template(args)}
	<!-- ì´ ìŠ¤ë‹ˆí«ì€ ì—¬ëŸ¬ ìŠ¤í† ë¦¬ì—ì„œ ì¬ì‚¬ìš©ë©ë‹ˆë‹¤. -->
	<IconText {...args} />
{/snippet}

<!-- âœ¨ ì¼ë°˜ ì‚¬ìš© ì‚¬ë¡€ (HAPPY PATHS) -->
<Story name="ê¸°ë³¸_ìƒíƒœ" args={{ text: 'Icon Text', IconElement: Link }} children={template} />

<Story
	name="ì•„ì´ì½˜_ì˜¤ë¥¸ìª½_ì •ë ¬"
	args={{
		text: 'ì•„ì´ì½˜ ì˜¤ë¥¸ìª½',
		IconElement: Aperture,
		right: true,
	}}
	children={template}
/>

<Story
	name="ì‘ì€_í¬ê¸°_ëª¨ë“œ"
	args={{
		text: 'ì‘ì€ í…ìŠ¤íŠ¸ì™€ ì•„ì´ì½˜',
		IconElement: Smile,
		small: true,
	}}
	children={template}
/>

<Story
	name="ì•„ì´ì½˜_ë§ˆì§„_ì œê±°"
	args={{
		text: 'ì•„ì´ì½˜ ë§ˆì§„ ì—†ìŒ',
		IconElement: Github,
		noMargin: true,
	}}
	children={template}
/>

<Story
	name="ì•„ì´ì½˜ë§Œ_í‘œì‹œ"
	args={{
		text: undefined, // í…ìŠ¤íŠ¸ ì—†ìŒ
		IconElement: Link,
	}}
	children={template}
/>

<Story
	name="ë‹¤ë¥¸_ì•„ì´ì½˜_ì‚¬ìš© (Aperture)"
	args={{
		text: 'Aperture ì•„ì´ì½˜',
		IconElement: Aperture,
	}}
	children={template}
/>

<Story
	name="ì•„ì´ì½˜_ì†ì„±_ì „ë‹¬ (strokeWidth)"
	args={{
		text: 'êµµì€ ì•„ì´ì½˜',
		IconElement: Link,
		iconProps: { strokeWidth: 3, color: 'blue' },
	}}
	children={template}
/>

<Story
	name="ì¶”ê°€_HTML_ì†ì„±_ì „ë‹¬ (id, class)"
	args={{
		text: 'IDì™€ í´ë˜ìŠ¤ ì ìš©',
		IconElement: Smile,
		id: 'custom-id',
		class: 'extra-class-on-span',
		style: 'background-color: #eee; padding: 5px;',
	}}
	children={template}
/>

<!-- âš ï¸ ì…ë ¥ê°’ ê²€ì¦ ë° ê²½ê³„ ì‚¬ë¡€ (INVALID INPUT / BOUNDARY / EDGE CASES) -->
<Story
	name="í…ìŠ¤íŠ¸_ì—†ìŒ_null_ì…ë ¥"
	args={{
		text: undefined,
		IconElement: Link,
	}}
	children={template}
/>

<Story
	name="í…ìŠ¤íŠ¸_ì—†ìŒ_undefined_ì…ë ¥"
	args={{
		text: undefined, // argsì— ëª…ì‹œì ìœ¼ë¡œ undefinedë¥¼ ë„£ê±°ë‚˜, ì•„ì˜ˆ text propì„ ìƒëµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
		IconElement: Aperture,
	}}
	children={template}
/>

<Story
	name="ëª¨ë“ _boolean_ì˜µì…˜_í™œì„±í™”"
	args={{
		text: 'ëª¨ë“  ì˜µì…˜ í™œì„±í™”',
		IconElement: Smile,
		right: true,
		noMargin: true,
		small: true,
	}}
	children={template}
/>

<Story
	name="ì•„ì´ì½˜ì—_ì»¤ìŠ¤í…€_í´ë˜ìŠ¤_ì „ë‹¬"
	args={{
		text: 'ì•„ì´ì½˜ì— ì»¤ìŠ¤í…€ í´ë˜ìŠ¤',
		IconElement: Github,
		iconProps: { class: 'blinking-icon special-svg-class' }, // iconPropsë¥¼ í†µí•´ ì•„ì´ì½˜ ë‚´ë¶€ ìš”ì†Œê°€ ì•„ë‹Œ IconElement ì»´í¬ë„ŒíŠ¸ì— í´ë˜ìŠ¤ ì „ë‹¬
	}}
	children={template}
/>

<!-- ğŸ’ª ìŠ¤íŠ¸ë ˆìŠ¤ í…ŒìŠ¤íŠ¸ (STRESS TEST CASES) -->
<Story
	name="ë§¤ìš°_ê¸´_í…ìŠ¤íŠ¸_ì…ë ¥"
	args={{
		text: `${'ì´ê²ƒì€ ë§¤ìš° ê¸´ í…ìŠ¤íŠ¸ ë¬¸ìì—´ì…ë‹ˆë‹¤. '.repeat(20)}ì´ ë¬¸ìì—´ì€ IconText ì»´í¬ë„ŒíŠ¸ê°€ ê¸´ ë‚´ìš©ì„ ì–´ë–»ê²Œ ì²˜ë¦¬í•˜ëŠ”ì§€, ì˜ˆë¥¼ ë“¤ì–´ ì¤„ ë°”ê¿ˆì´ë‚˜ ì˜¤ë²„í”Œë¡œìš° ê´€ë¦¬ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•œ ê²ƒì…ë‹ˆë‹¤.`,
		IconElement: Link,
	}}
	children={template}
/>

<Story
	name="íŠ¹ìˆ˜ë¬¸ì_ë°_HTML_í¬í•¨_í…ìŠ¤íŠ¸_ì…ë ¥"
	args={{
		text: 'íŠ¹ìˆ˜ë¬¸ì: !@#$%^&*()_+<>?:"{}|~` ê·¸ë¦¬ê³  <b>HTML ê°™ì€ íƒœê·¸</b> &amp; ì—”í‹°í‹° ì½”ë“œ',
		IconElement: Aperture,
	}}
	children={template}
/>

<!-- ì¶”ê°€ì ì¸ ìŠ¤í† ë¦¬ë“¤ -->
<Story
	name="ì•„ì´ì½˜_ìƒ‰ìƒ_í…ŒìŠ¤íŠ¸_iconProps"
	args={{
		text: 'ìƒ‰ìƒ ìˆëŠ” ì•„ì´ì½˜',
		IconElement: Smile,
		iconProps: { color: 'green', strokeWidth: 1 }, // lucide ì•„ì´ì½˜ì€ color propìœ¼ë¡œ ìƒ‰ìƒ ë³€ê²½
	}}
	children={template}
/>

<Story
	name="ì‘ê³ _ì˜¤ë¥¸ìª½_ë§ˆì§„ì—†ëŠ”_ì•„ì´ì½˜"
	args={{
		text: 'ì‘ê³  ì˜¤ë¥¸ìª½, ë§ˆì§„ ì—†ìŒ',
		IconElement: ExternalLink,
		small: true,
		right: true,
		noMargin: true,
	}}
	children={template}
/>
