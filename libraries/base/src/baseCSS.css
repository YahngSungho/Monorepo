:root {
	font-size: var(--font-size-1);
	text-size-adjust: 100%;
	color-scheme: light dark;
}

html {
	container: inline-size;
}

body {
	position: relative;
	inset: 0;

	container: body / inline-size;
	overflow: auto;

	inline-size: 100svi;
	block-size: 100svb;
}

*,
*::before,
*::after {
	overscroll-behavior: contain;

	box-sizing: border-box;

	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	line-height: var(--font-lineheight-3);
	text-wrap: stable;
	text-rendering: optimizelegibility;
	word-break: keep-all;
	line-break: strict;
	overflow-wrap: break-word;
}

button {
	cursor: pointer;
	user-select: none;

	position: relative;

	overflow: hidden;
	display: inline-flex;
	align-items: center;
	justify-content: center;

	inline-size: fit-content;
	max-inline-size: min(100%, 100cqi);
	padding: max(0.5em, 0.5rem) max(1.5em, 1.5rem);

	text-align: center;
	text-decoration: none;
	text-transform: capitalize;
	white-space: nowrap;
	vertical-align: middle;

	appearance: button;

	&:active,
	&:hover {
		opacity: 0.7;
	}

	&:focus {
		z-index: 1;
		outline: var(--size-1) dashed var(--gray-5);
		outline-offset: var(--size-1);
	}
}

div {
	color: inherit;
	outline: var(--size-1) solid transparent;
	outline-offset: calc(-1 * var(--size-1));
}

p {
	max-inline-size: var(--size-content-4);
}

img {
	max-inline-size: 100%;
	object-fit: cover;
}

a {
	hyphens: none;
	overflow-wrap: anywhere;
}

h1,
h2,
h3,
h4,
h5,
h6 {
	line-height: var(--font-lineheight-1);
	text-wrap: balance;
}

[id] {
	scroll-margin-block-start: var(--font-size-5);
}

/* Scrollbar */

@media (forced-colors: none) {
	/* 1. 모든 브라우저에 적용되는 기본 스타일 */
	* {
		scrollbar-color: color-mix(in oklch, currentcolor 35%, transparent) transparent;
	}

	/* 4. Firefox용 컨테이너 쿼리 */
	@container (max-width: 15ch) {
		* {
			scrollbar-width: thin;
		}
	}
	/* 2. WebKit 계열 브라우저 전용 스타일 */
	@supports (-webkit-appearance: none) and (not (-moz-appearance: none)) {
		* {
			scrollbar-color: initial; /* 웹킷 스크롤바 활성화 */
		}

		::-webkit-scrollbar {
			inline-size: min(1.5ch, var(--font-size-3));
			block-size: min(1.5ex, var(--font-size-3));
		}

		::-webkit-scrollbar-thumb {
			background-color: color-mix(in oklch, currentcolor 35%, transparent);
		}

		::-webkit-scrollbar-track {
			background-color: transparent;
		}

		/* 3. 컨테이너 쿼리 대응 */
		@container (max-width: 15ch) {
			/* stylelint-disable-next-line plugin/use-logical-properties-and-values */
			::-webkit-scrollbar { width: min(0.5ch, var(--font-size-1)); }
		}

		@container (max-height: 15ex) {
			/* stylelint-disable-next-line plugin/use-logical-properties-and-values */
			::-webkit-scrollbar { height: min(0.5ex, var(--font-size-1)); }
		}
	}
}
